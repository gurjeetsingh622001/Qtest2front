<ngx-spinner type="ball-scale-multiple"></ngx-spinner>

<div class="container">

    <div class="row mt-5">
        <div class="col-md">
            <h2>
                <h2>{{ questions[currentQuestionIndex] }}</h2>
            </h2>
        </div>
        <div class="col-md"></div>
        <div class="col-md"></div>
    </div>

    <div class="row mt-2">
        <div class="col-md">
            <p-progressBar [value]="value.toString()" [showValue]="false"></p-progressBar>
        </div>
    </div>

    <div class="row justify-content-center mt-5 " style="margin-bottom: 220px;">
        <div class="col-md-6">
            <form [formGroup]="surveyForm">


                <div *ngIf="currentQuestionIndex==0">
                    <div class="question">
                        <h2>Q1 What is the Occupation?</h2>
                    </div>
                    <div class="options">
                        <label>
                            <input type="radio" value="student" (change)="changeOccupation($event)"
                                formControlName="occupation">
                            A. student
                        </label>
                        <label>
                            <input type="radio" value="salaried" (change)="changeOccupation($event)"
                                formControlName="occupation">
                            B. salaried
                        </label>
                        <label>
                            <input type="radio" value="self-buisness" (change)="changeOccupation($event)"
                                formControlName="occupation">
                            C. self-buisness
                        </label>
                        <label>
                            <input type="radio" value="buisness" (change)="changeOccupation($event)"
                                formControlName="occupation">
                            D. buisness
                        </label>

                    </div>
                </div>

                <div *ngIf="currentQuestionIndex==1">
                    <div class="question">
                        <h2>Q2 What is your Income</h2>
                    </div>
                    <div class="options">
                        <label>
                            <input type="radio" (change)="changeIncome()" value="<5LPA" formControlName="income">
                            A. <5LPA </label>
                                <label>
                                    <input type="radio" (change)="changeIncome()" value="5-10LPA"
                                        formControlName="income">
                                    B. 5-10LPA
                                </label>
                                <label>
                                    <input type="radio" (change)="changeIncome()" value="10-20LPA"
                                        formControlName="income">
                                    C. 10-20LPA
                                </label>
                                <label>
                                    <input type="radio" (change)="changeIncome()" value=">20LPA"
                                        formControlName="income">
                                    D. >20LPA
                                </label>
                    </div>
                </div>

                <div *ngIf="currentQuestionIndex==2">
                    <div class="question">
                        <h2>Q3 What is your Education</h2>
                    </div>
                    <div class="options">
                        <label>
                            <input type="radio" (change)="changeEducation()" value="graduate"
                                formControlName="education">
                            A. graduate
                        </label>
                        <label>
                            <input type="radio" (change)="changeEducation()" value="post-graduate"
                                formControlName="education">
                            B. post graduate
                        </label>
                        <label>
                            <input type="radio" (change)="changeEducation()" value="doctrate"
                                formControlName="education">
                            C. doctrate
                        </label>
                        <label>
                            <input type="radio" (change)="changeEducation()" value="12th/diploma"
                                formControlName="education">
                            D. 12th/diploma
                        </label>

                    </div>
                </div>

                <div>
                    <button type="button" (click)="previousQuestion()" [disabled]="currentQuestionIndex==0"
                        class="btn btn-primary">Back</button>
                    <button type="button" (click)="nextQuestion()" class="btn btn-warning ms-4"
                        [disabled]="currentQuestionIndex==2">Next</button>
                    <button (click)="submit()" *ngIf="surveyForm.status!='INVALID'"
                        class="btn btn-info ms-4">submit</button>
                </div>

            </form>
        </div>
    </div>
</div>